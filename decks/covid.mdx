import { CodeSurfer as Surfer } from "code-surfer";
import { CodeSurferColumns, Step } from "code-surfer";
import { Appear, Background } from "gatsby-theme-mdx-deck";
import * as L from "../src/layout";
import customTheme from "../src/theme";

export const theme = customTheme;

<!-- joey's components -->
import Layout from '../components/Layout';
import FlexContainer from '../components/FlexContainer';
import FlexItem from '../components/FlexItem';


<L.Column>

# Visualizing COVID-19 with Postman
## By Joey and Jeffrey 

</L.Column>

---

## What is Postman?

---

<L.Row>

## Postman

### A platform for efficient API development and testing. Allows us to send requests for data, visualize responses, test code blocks, collaborate, etc.

</L.Row>

---

import pm_icon from '../assets/pm-icon.png' // height 100

<Background />
<L.Row>

## Download Postman!

<a href='https://www.postman.com/downloads/'><img src={pm_icon} /></a>

</L.Row>

---

import pm_screen from '../assets/pm-screen.png'

<Background />
<L.Row>

## Overview of Postman Interface

<img src={pm_screen} height='1000px' />

</L.Row>

---

import new_button from '../assets/new.png' // height 200 for all
import templates from '../assets/templates.png'
import search from '../assets/search.png'
import howto from '../assets/howto.png'

<Background />

## Set up

<FlexContainer>
  <FlexItem padding='.5em'>
    <span>Step 1</span>
    <img src={new_button} />
  </FlexItem>
  <FlexItem padding='.5em'>
    <span>Step 2</span>
    <img src={templates} />
  </FlexItem>
  <FlexItem padding='.5em'>
    <span>Step 3</span>
    <img src={search} />
  </FlexItem>
  <FlexItem padding='.5em'>
    <span>Step 4</span>
    <img src={howto} />
  </FlexItem>
</FlexContainer>

<Notes>
<p>walk through steps to download the tutorial</p>
</Notes>

---

import visualizer from '../assets/visualizer.png'

<Background />
<L.Row>

## Add the Visualizer

<img src={visualizer} />

</L.Row>

<Notes>
<p>what is pm.visualizer?</p>
<p>what is template?</p>
<p>what is pm.response.json()?</p>
</Notes>

---

import template from '../assets/template.png'

<Background />
<L.Row>

## Code the Template

<img src={template} />

</L.Row>

<Notes>
<p>what is going on with this template?</p>
<p>javascript handlebars, responsive, don't hard code</p>
</Notes>

---

import visualize_1 from '../assets/visualize-1.png'

<Background />
<L.Row>

## Visualize the Response

<img src={visualize_1} />

</L.Row>

<Notes>
<p>guide students to "visualize" tab at bottom of app</p>
<p>discuss output</p>
</Notes>

---

import pretty from '../assets/pretty.png'

<Background />
<L.Row>

## Make it Pretty with CSS

<img src={pretty} />

</L.Row>

---

<Background />
<L.Row>

## Add the Line Graph

<p> Once we pass the COVID-19 data  we can create the time series model using chart.js!</p>
<p> You would first create a canvas by calling the HTML command canvas id="myChart" with \canvas to close the HTML tab.</p>
<p> Then you would call this JavaScript command above the HTML command
    to initialize Chart.js library, 
</p> 

</L.Row>

```javascript
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0" ></script>
```

<L.Row>

<p> After that, you would write the JavaScript code written below between the two script parameters to form the body that passes the dates and data values of our dataset.
</p>
<p> Finally you can run the code by clicking on the send button and the visulaize button and viola! We have our time series model!
</p>

</L.Row>

import usa_graph from '../assets/USA Graph.png'

<img src = {usa_graph}/>

<Notes>
  <p> We can see here that the cases for COVID-19 have been stagnant throughout January and February, but then they start to increase
      in March. This means that as time goes on after March, the number of COVID-19 cases increase, meaning the disease is starting to
      spread much throughout the US during this time.
  </p>
    
</Notes>
  
---

<L.Row>

## Show Time Series for another country

<p> We saw in the previous example that we displayed the time series of COVID-19 cases in the US, but what about other countries?
</p>
<p> Well, you're in luck! Notice how on the GET search bar, we already have the API key for our 
    dataset, covidapi.info/api/v1/country/USA, but the USA value after /country/ represents the specfic country that we selected to show the time series for.
</p>
<p> Now what you can do is simply change that parameter for another country. Let's look at the rate of COVID-19 cases for. China's value is known as CHN. So you would would replace USA with CHN after the /country/ parameter like so covidapi.info/api/v1/country/CHN.
</p>
<p> Once you have completed each step, you click send and visualize right after, and voila! You now have the time series model for China.
</p>

</L.Row>

import china from '../assets/china.png'

<img src = {china}/>

---

<L.Row>

## Show Time Series for another Value

<p> We've already showed many ways of displaying time series data for COVID-19 cases for a country, but what if we ant to see it on a global scale?
</p>
<p> Well you can now do that through editing the API key from the GET search bar.
</p>
<p> Now if we look at the API key covidapi.info/api/v1/country/CHN, notice how the /country/ parameter focuses on the location of each country and CHN is the country, China?
</p>
<p> Now what you can do is replace both parameters with /global/ to let the API key know that you want every country in the world and after that, you would /count/ for every international case of COVID-19.
</p>
<p> Your API key on the GET search bar will look like this, covidapi.info/api/v1/global/count, and after clicking search and visualize, you just created another time series model for the entire world.
</p>

</L.Row>

import global_graph from '../assets/Global Graph.png'

<img src = {global_graph}/>

---

<L.Row>

## Change of Variables for Data Types (Creating the ISO Variable)

<p> We have seen variables in our data set to create time series models, but what if we were to change one of the variable's names entirely? Let's find out.
</p>
<p> To initialize our variable, we go to the pre-request script tab. Let's name our variable as "ISO" to use the data from China. We would use the pm.variables.set() function call to intialize our variable and the first parameter would be ISO and our second parameter would be CHN. The function call will look like this, pm.variables.set("ISO", "CHN").
</p>

</L.Row>

import iso from '../assets/ISO.png'

<img src = {iso}/>

---

<L.Row>

## Change of Variables for Data Types (ISO Time Series Model)

<p> Now once you click send and visualize, you'll notice that the model is same as China's, but the API Key has ISO instead of CHN after /country/.
</p>
<p> That's because we have only redfined China's variable name as something else, but the data is exactly the same.
</p>

</L.Row>

import russel from '../assets/russel.png'

<img src = {russel}/>

---

<L.Row>

## Change of Variables for Data Types (How the Graph reads ISO's Data)

<p> So you're wondering how the graph is reading the data from the new variable name. The answer to that is if you go to the tests tab and scroll all the way down to the bottom, you'll see the pm.visualizer.set() function call.
</p>
<p> This also contains the pm.variables.get("ISO") to show how the title of the graph is defined and the pm.variables.get() function call takes all of the data from each given variable, which explains how the graph was able to read the data in the first place.
</p>

</L.Row>

import iso_code from '../assets/ISO Code.png'

<img src = {iso_code}/>

---

<L.Row>

## Make the Datapoints have the same colors of their Country's Flag

<p>  Now that you have seen ways to work with Postman to customize the visualization of our mathematical model, you can now give it a
   try by making the datapoints that represents the level of COVID-19 cases per date have the same colors as the country's flag.
</p>

</L.Row>

import china_before_colors from '../assets/China Colors Before.png'

<img src = {china_before_colors}/>

---

<L.Row>

## Make the Datapoints have the same colors of their Country's Flag (Changing Bullet Point Colors)

<p> Let's do China for instance. So if we go under the test tab of Postman, we can see that the backgroundColor: and borderColor: template calls contain rgb() as the preset color template for the bullet points.
</p>
<p> What we can do is replace rgb() with red() for backgroundColor: (background color for the bullet points) and yellow() for borderColor: (border color for the bullet points) like so.
</p>

</L.Row>

import image from '../assets/image.png'

<img src = {image}/>

---

<L.Row>

## Make the Datapoints have the same colors of their Country's Flag (Country's Graph)

<p> After editing that part of the code, as we run it through the console via the send button, we notice many things that are
   different about the graph.
</p>
<p> You're probably wondering where are the colors for the data points, but if you run your cursor through
   them towards the initial data point, you'll see that the data points are red with a yellow boarder like intended!
</p>

</L.Row>

import image_1 from '../assets/image (1).png'

<img src = {image_1}/>

---

<L.Row>

## Make the Datapoints have the same colors of their Country's Flag (Explaining Background Color for Mathematical Model)

<p> Another thing you're thinking about as to why is the background for the mathematical model in a dark-grey tone? The answer to that
  would be when you right click the graph to see the command "Inspect visualization", this page will pop up.
</p>
<p> If you look at the "color:" section of the JavaScript code, you can see that it's preset to Black. That would mean that no matter how many times you run it, you can't change the color for the mathematical model.
</p>

</L.Row>

import image_2 from '../assets/image (2).png'

<img src = {image_2}/>

---